@UI_PLAYER,ARGS
#DIM LC1
#DIM LC2
$RE_SHOW
LC1 = LINECOUNT
LOCALS:1 =人物属性
LOCALS:2 =装备
LOCALS:3 =背包
LOCALS:4 =技能
LOCALS:5 =战斗设定
PRINTL 
PRINTL 
PRINTL 
PRINTL 
PRINTL 
PRINTL 
PRINTL 
DRAWLINE
PRINTL 人物面板
DRAWLINE
FOR LOCAL,1,6
	;高亮当前选中的面板
	SIF LOCALS:LOCAL == ARGS
		SETCOLOR 0xFFFF00
	PRINTFORM [50{LOCAL}]%LOCALS:LOCAL,10,LEFT%
	RESETCOLOR
NEXT
PRINTL
DRAWLINE
IF ARGS == "人物属性"
	CALL UI_PC_BASE
ELSEIF ARGS == "装备"
	CALL UI_EQUIP
ELSEIF ARGS == "背包"
	CALL LIST_SHOW_ITEM,LIST_SHOW_NUM
ELSEIF ARGS == "技能"
	;暂无
ELSEIF ARGS == "战斗设定"
	;暂无
ELSE
ENDIF


INPUT
CLEARLINE 1

IF RESULT > 500 && RESULT < 506
	BUTTON_ITEM = 0
	;物品显示计数1
	FLAG:1001 = 1
	;物品第1页
	FLAG:1002 = 1
	SELECTCASE RESULT
	CASE 501
		LC2=LINECOUNT
		CLEARLINE LC2-LC1
		CALL UI_PLAYER,"人物属性"
	CASE 502
		LC2=LINECOUNT
		CLEARLINE LC2-LC1
		CALL UI_PLAYER,"装备"
	CASE 503
		LC2=LINECOUNT
		CLEARLINE LC2-LC1
		CALL UI_PLAYER,"背包"
	CASE 504
		LC2=LINECOUNT
		CLEARLINE LC2-LC1
		CALL UI_PLAYER,"技能"
	CASE 505
		LC2=LINECOUNT
		CLEARLINE LC2-LC1
		CALL UI_PLAYER,"战斗设定"
	CASEELSE
	ENDSELECT
;个人属性处理
ELSEIF ARGS == "人物属性"
	SIF RESULT > 100 && RESULT <104
		CALL BASE_ADD_UPDATE,RESULT
	SIF RESULT == 0
		CALL MAIN
	LC2=LINECOUNT
	CLEARLINE LC2-LC1
	CALL UI_PLAYER,"人物属性"

;装备处理
ELSEIF ARGS == "装备"
	SELECTCASE RESULT	
	CASE 0
		LC2=LINECOUNT
		CLEARLINE LC2-LC1
		CALL MAIN
	CASE 001 TO 012
		LC2=LINECOUNT
		CLEARLINE LC2-LC1
		CALL UI_EQUIP_CHANGE,RESULT
	CASE 100
		FOR LOCAL,1,13
			EQUIP:LOCAL = 0
		NEXT
		FOR LOCAL,1,200
			PACK_USE:LOCAL:3 = 0
		NEXT
		LC2=LINECOUNT
		CLEARLINE LC2-LC1
		CALL UI_PLAYER,"装备"
	CASEELSE
		LC2=LINECOUNT
		CLEARLINE LC2-LC1
		CALL UI_PLAYER,"装备"
	ENDSELECT



;背包处理
ELSEIF (RESULT >= 0 && RESULT < 501 && ARGS == "背包") || RESULT == 1000 || RESULT == 1001 
	SIF RESULT != 1000 && RESULT != 1001 
		FLAG:1000 = RESULT
	SELECTCASE RESULT
	CASE 0
		LC2=LINECOUNT
		CLEARLINE LC2-LC1
		CALL MAIN
	CASE 1 TO 500
		BUTTON_ITEM = PACK_USE:RESULT:1
		LC2=LINECOUNT
		CLEARLINE LC2-LC1
		GOTO RE_SHOW
	CASE 1000
		FLAG:1001 -= 20 
		FLAG:1002 -= 1
		LC2=LINECOUNT
		CLEARLINE LC2-LC1
		GOTO RE_SHOW
	CASE 1001
		FLAG:1001 += 20 
		FLAG:1002 += 1
		LC2=LINECOUNT
		CLEARLINE LC2-LC1
		GOTO RE_SHOW
	CASEELSE
	ENDSELECT
	
ELSEIF ARGS == "技能"
	LC2=LINECOUNT
		CLEARLINE LC2-LC1
	SIF RESULT == 0
		CALL MAIN
	
ELSEIF ARGS == "战斗设定"
	PRINTW 暂无
	CLEARLINE 1
	SIF RESULT == 0
		CALL MAIN

ELSEIF RESULT == 2000
	
ELSE
	GOTO RE_SHOW
ENDIF






