;此页ARG为物品格子ID
;EQUIP:1-EQUIP:12为装备栏格子(存放装备中物品的PACK_ID)
@EQUIP_WEAR,ARG,ARG:1
#DIM PACK_ID
#DIM EQUIP_ID
PACK_ID = ARG
EQUIP_ID = ARG:1
IF EQUIP:EQUIP_ID == 0
	PACK_USE:PACK_ID:3 = EQUIP_ID
	EQUIP:EQUIP_ID = PACK_ID
ELSE
	;当前装备的已装备标志取消
	PACK_USE:(EQUIP:EQUIP_ID):3 = 0
	PACK_USE:PACK_ID:3 = EQUIP_ID
	EQUIP:EQUIP_ID = PACK_ID
ENDIF
















;是否能穿戴装备判断,ARG:1为装备格子ID,返回值为装备部位
@EQUIP_WEARABLE_CHECK(ARG,ARG:1)
#FUNCTION
#DIM ITEM_ID
#DIM PACK_ID
#DIM EQUIP_ID
TARGET = 0
PACK_ID  = ARG
EQUIP_ID = ARG:1
ITEM_ID  = PACK_USE:PACK_ID:1
;非装备类跳过判断
SIF ITEM_INFO:ITEM_ID:0 > 9 && ITEM_INFO:ITEM_ID:0 < 0
	RETURNF 0
;角色是否满足装备需求判断
SELECTCASE EQUIP_ID
	;头
	CASE 001
	;          对应部位					装备等级满足
	SIF ITEM_INFO:ITEM_ID:0 == 1 && BASE:2 >= ITEM_INFO:ITEM_ID:2 
		RETURNF 1
	;脖子
	CASE 002
	SIF ITEM_INFO:ITEM_ID:0 == 2 && BASE:2 >= ITEM_INFO:ITEM_ID:2 
		RETURNF 2
	;背部
	CASE 003
	SIF ITEM_INFO:ITEM_ID:0 == 3 && BASE:2 >= ITEM_INFO:ITEM_ID:2 
		RETURNF 3
	;身体
	CASE 004
	SIF ITEM_INFO:ITEM_ID:0 == 4 && BASE:2 >= ITEM_INFO:ITEM_ID:2 
		RETURNF 4
	;手
	CASE 005,006
	SIF ITEM_INFO:ITEM_ID:0 == 5 && BASE:2 >= ITEM_INFO:ITEM_ID:2 
		RETURNF 5
	;戒指
	CASE 007,008
	SIF ITEM_INFO:ITEM_ID:0 == 6 && BASE:2 >= ITEM_INFO:ITEM_ID:2 
		RETURNF 6
	;手套
	CASE 009
	SIF ITEM_INFO:ITEM_ID:0 == 7 && BASE:2 >= ITEM_INFO:ITEM_ID:2 
		RETURNF 7
	;鞋子
	CASE 010
	SIF ITEM_INFO:ITEM_ID:0 == 8 && BASE:2 >= ITEM_INFO:ITEM_ID:2 
		RETURNF 8
	;携带品
	CASE 011,012
	SIF ITEM_INFO:ITEM_ID:0 == 9 && BASE:2 >= ITEM_INFO:ITEM_ID:2 
		RETURNF 9
	CASEELSE
		RETURNF 0
ENDSELECT
	
	